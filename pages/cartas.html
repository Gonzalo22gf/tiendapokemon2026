<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Cartas | Pok√©Cards ‚Äî Cat√°logo Pok√©mon TCG</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Cat√°logo de cartas Pok√©mon TCG: busc√° por nombre y filtr√° por set, tipo y rareza." />
  <meta name="robots" content="index,follow" />
  <meta name="author" content="GZ" />
  <meta name="theme-color" content="#0b0d10" />

  <!-- Canonical -->
  <link rel="canonical" href="https://gonzalo22gf.github.io/tiendapokemon2026/pages/cartas.html" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="es_AR" />
  <meta property="og:title" content="Cartas | Pok√©Cards ‚Äî Cat√°logo Pok√©mon TCG" />
  <meta property="og:description" content="Busc√° y filtr√° cartas por set, tipo y rareza. Cat√°logo educativo de Pok√©mon TCG." />
  <meta property="og:url" content="https://gonzalo22gf.github.io/tiendapokemon2026/pages/cartas.html" />
  <meta property="og:image" content="https://gonzalo22gf.github.io/tiendapokemon2026/assets/img/phantasmal-flames3.jpg" />

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Cartas | Pok√©Cards ‚Äî Cat√°logo Pok√©mon TCG" />
  <meta name="twitter:description" content="Busc√° y filtr√° cartas por set, tipo y rareza. Cat√°logo educativo de Pok√©mon TCG." />
  <meta name="twitter:image" content="https://gonzalo22gf.github.io/tiendapokemon2026/assets/img/phantasmal-flames3.jpg" />

  <!-- Performance -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />

  <!-- (Opcional) favicon -->
  <link rel="icon" href="../assets/favicon.ico" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../css/style.css" />

  <style>
    /* Accesibilidad: link para saltar al contenido */
    .skip-link{
      position: absolute;
      left: -999px;
      top: 10px;
      z-index: 9999;
      padding: 10px 12px;
      border-radius: 10px;
      background: #fff;
      color: #000;
      text-decoration: none;
      font-weight: 700;
    }
    .skip-link:focus{
      left: 10px;
      outline: 2px solid #000;
    }
  </style>
</head>

<body>
<a class="skip-link" href="#contenido">Saltar al contenido</a>

<header>
  <nav class="navbar navbar-dark container py-3" aria-label="Navegaci√≥n principal">
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="offcanvas"
      data-bs-target="#menuLateral"
      aria-controls="menuLateral"
      aria-label="Abrir men√∫">
      <span class="navbar-toggler-icon"></span>
    </button>

    <a class="navbar-brand fw-bold ms-3" href="../index.html" aria-label="Ir al inicio">Pok√©Cards</a>
  </nav>
</header>

<div class="offcanvas offcanvas-start text-bg-dark" tabindex="-1" id="menuLateral" aria-labelledby="menuLateralLabel">
  <div class="offcanvas-header">
    <h2 class="offcanvas-title h5 mb-0" id="menuLateralLabel">Men√∫</h2>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
  </div>

  <div class="offcanvas-body">
    <ul class="navbar-nav gap-3 fs-5">
      <li class="nav-item"><a class="nav-link" href="../index.html">üè† Inicio</a></li>
      <li class="nav-item"><a class="nav-link active" href="cartas.html" aria-current="page">üé¥ Cartas</a></li>
      <li class="nav-item"><a class="nav-link" href="sets.html">üì¶ Sets</a></li>
      <li class="nav-item"><a class="nav-link" href="comunidad.html">üí¨ Comunidad</a></li>
      <li class="nav-item"><a class="nav-link" href="contacto.html">‚úâÔ∏è Contacto</a></li>
    </ul>
  </div>
</div>

<main class="container" id="contenido">

  <!-- HERO -->
  <section class="hero mt-4 p-4 p-md-5">
    <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3">
      <div>
        <h1 class="mb-2">Cat√°logo de cartas</h1>
        <p class="mb-0">Busc√° por nombre y filtr√° por set, tipo y rareza.</p>
      </div>
      <a class="btn-primary-custom text-decoration-none" href="sets.html">Ver sets</a>
    </div>
  </section>

  <!-- FILTROS -->
  <section class="mt-4 filters-panel">
    <div class="row g-3 align-items-end">

      <div class="col-md-4">
        <label class="form-label" for="search">Buscar</label>
        <input
          id="search"
          class="form-control input-dark"
          type="text"
          placeholder="Ej: Pikachu, Charizard, Mew..."
          aria-label="Buscar carta por nombre"
          autocomplete="off"
        />
      </div>

      <div class="col-md-3">
        <label class="form-label" for="tipo">Tipo</label>
        <select id="tipo" class="form-select input-dark" aria-label="Filtrar por tipo">
          <option value="all" selected>Todos</option>
          <option value="fuego">Fuego</option>
          <option value="agua">Agua</option>
          <option value="planta">Planta</option>
          <option value="electrico">El√©ctrico</option>
          <option value="psiquico">Ps√≠quico</option>
          <option value="lucha">Lucha</option>
          <option value="dragon">Drag√≥n</option>
          <option value="oscuridad">Oscuridad</option>
          <option value="metal">Metal</option>
          <option value="normal">Normal</option>
        </select>
      </div>

      <div class="col-md-5">
        <span class="form-label d-block">Rareza</span>
        <div class="d-flex flex-wrap gap-2" id="rarezaFilters" aria-label="Filtro por rareza">
          <button type="button" class="badge-custom filter-pill is-active" data-rareza="all">Todas</button>
          <button type="button" class="badge-custom filter-pill" data-rareza="comun">Com√∫n</button>
          <button type="button" class="badge-custom filter-pill" data-rareza="rara">Rara</button>
          <button type="button" class="badge-custom filter-pill" data-rareza="ultra">Ultra</button>
          <button type="button" class="badge-custom filter-pill" data-rareza="secreta">Mega Ex</button>
        </div>
      </div>
    </div>

    <div class="mt-3">
      <span class="form-label d-block">Set</span>
      <div class="d-flex flex-wrap gap-2" id="setFilters" aria-label="Filtro por set">
        <button type="button" class="badge-custom filter-pill is-active" data-set="all">Todos</button>
        <button type="button" class="badge-custom filter-pill" data-set="sv151">Scarlet &amp; Violet ‚Äî 151</button>
        <button type="button" class="badge-custom filter-pill" data-set="paldea">Scarlet &amp; Violet ‚Äî Paldea Evolved</button>
        <button type="button" class="badge-custom filter-pill" data-set="crown">Sword &amp; Shield ‚Äî Crown Zenith</button>
      </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mt-3 flex-wrap gap-2">
      <span class="filters-meta" id="resultsCount">Mostrando: ‚Äî</span>
      <button type="button" class="btn-soft" id="clearFilters">Limpiar filtros</button>
    </div>
  </section>

  <!-- GRID DE CARTAS -->
  <section class="mt-4">
    <div class="row g-4">

      <!-- SV151 -->
      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="pikachu" data-tipo="electrico" data-rareza="rara" data-set="sv151">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/pikachu151.jpg.png" alt="Pikachu" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Pikachu</h2><span class="badge-custom">Rara</span>
          </div>
          <p class="mb-0">Tipo: El√©ctrico ‚Ä¢ Set: 151</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="charizard" data-tipo="fuego" data-rareza="ultra" data-set="sv151">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/charizard151.jpg" alt="Charizard" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Charizard</h2><span class="badge-custom">Ultra</span>
          </div>
          <p class="mb-0">Tipo: Fuego ‚Ä¢ Set: 151</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="mew" data-tipo="psiquico" data-rareza="secreta" data-set="sv151">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/new151.jpg" alt="Mew" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Mew</h2><span class="badge-custom">Secreta</span>
          </div>
          <p class="mb-0">Tipo: Ps√≠quico ‚Ä¢ Set: 151</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="bulbasaur" data-tipo="planta" data-rareza="comun" data-set="sv151">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/bulbasaur151.jpg" alt="Bulbasaur" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Bulbasaur</h2><span class="badge-custom">Com√∫n</span>
          </div>
          <p class="mb-0">Tipo: Planta ‚Ä¢ Set: 151</p>
        </div>
      </article>

      <!-- Paldea -->
      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="miraidon" data-tipo="electrico" data-rareza="ultra" data-set="paldea">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/miraidon.jpg" alt="Miraidon" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Miraidon</h2><span class="badge-custom">Ultra</span>
          </div>
          <p class="mb-0">Tipo: El√©ctrico ‚Ä¢ Set: Paldea Evolved</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="koraidon" data-tipo="lucha" data-rareza="ultra" data-set="paldea">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/koraidon.jpg" alt="Koraidon" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Koraidon</h2><span class="badge-custom">Ultra</span>
          </div>
          <p class="mb-0">Tipo: Lucha ‚Ä¢ Set: Paldea Evolved</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="tinkaton" data-tipo="metal" data-rareza="rara" data-set="paldea">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/tinkaton.jpg" alt="Tinkaton" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Tinkaton</h2><span class="badge-custom">Rara</span>
          </div>
          <p class="mb-0">Tipo: Metal ‚Ä¢ Set: Paldea Evolved</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="sprigatito" data-tipo="planta" data-rareza="comun" data-set="paldea">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/sprigatito.jpg" alt="Sprigatito" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Sprigatito</h2><span class="badge-custom">Com√∫n</span>
          </div>
          <p class="mb-0">Tipo: Planta ‚Ä¢ Set: Paldea Evolved</p>
        </div>
      </article>

      <!-- Crown -->
      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="zacian" data-tipo="metal" data-rareza="ultra" data-set="crown">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/zacian.jpg" alt="Zacian" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Zacian</h2><span class="badge-custom">Ultra</span>
          </div>
          <p class="mb-0">Tipo: Metal ‚Ä¢ Set: Crown Zenith</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="rayquaza" data-tipo="dragon" data-rareza="ultra" data-set="crown">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/rayquaza.jpg" alt="Rayquaza" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Rayquaza</h2><span class="badge-custom">Ultra</span>
          </div>
          <p class="mb-0">Tipo: Drag√≥n ‚Ä¢ Set: Crown Zenith</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="leafeon" data-tipo="planta" data-rareza="rara" data-set="crown">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/laefon.jpg" alt="Leafeon" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Leafeon</h2><span class="badge-custom">Rara</span>
          </div>
          <p class="mb-0">Tipo: Planta ‚Ä¢ Set: Crown Zenith</p>
        </div>
      </article>

      <article class="col-12 col-sm-6 col-lg-3 card-item" data-name="mewtwo" data-tipo="psiquico" data-rareza="rara" data-set="crown">
        <div class="card-custom h-100">
          <div class="card-frame mb-3">
            <img class="card-thumb js-thumb" src="../assets/img/newtwo.jpg" alt="Mewtwo" loading="lazy" decoding="async" />
          </div>
          <div class="d-flex justify-content-between align-items-start">
            <h2 class="h5 mb-1">Mewtwo</h2><span class="badge-custom">Rara</span>
          </div>
          <p class="mb-0">Tipo: Ps√≠quico ‚Ä¢ Set: Crown Zenith</p>
        </div>
      </article>

    </div>
  </section>

</main>

<footer>
  <p class="mb-0">Proyecto Final GZ ‚Ä¢ Pok√©Cards ‚Ä¢ Pok√©mon TCG</p>
</footer>

<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  window.addEventListener("DOMContentLoaded", () => {

    // Placeholder para im√°genes rotas
    const PLACEHOLDER = `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`
      <svg xmlns='http://www.w3.org/2000/svg' width='900' height='600'>
        <defs>
          <linearGradient id='g' x1='0' x2='1' y1='0' y2='1'>
            <stop offset='0' stop-color='#0b0d10'/>
            <stop offset='1' stop-color='#151a22'/>
          </linearGradient>
        </defs>
        <rect width='100%' height='100%' fill='url(#g)'/>
        <circle cx='450' cy='270' r='60' fill='rgba(255,255,255,0.10)'/>
        <text x='50%' y='55%' fill='rgba(255,255,255,0.75)' font-family='system-ui,Segoe UI,Roboto,Arial' font-size='34' text-anchor='middle'>Imagen no cargada</text>
      </svg>
    `)}`;

    document.querySelectorAll(".js-thumb").forEach(img => {
      const src = (img.getAttribute("src") || "").trim();
      if (!src) img.src = PLACEHOLDER;
      img.addEventListener("error", () => { img.src = PLACEHOLDER; }, { once: true });
    });

    // FILTROS
    const searchInput  = document.getElementById("search");
    const tipoSelect   = document.getElementById("tipo");
    const cards        = Array.from(document.querySelectorAll(".card-item"));
    const rarezaWrap   = document.getElementById("rarezaFilters");
    const setWrap      = document.getElementById("setFilters");
    const resultsCount = document.getElementById("resultsCount");
    const clearBtn     = document.getElementById("clearFilters");

    let selectedRareza = "all";
    let selectedSet    = "all";

    function normalize(str) {
      return (str || "")
        .toString()
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "");
    }

    function applyFilters() {
      const q = normalize(searchInput.value.trim());
      const tipo = tipoSelect.value;

      let visible = 0;

      for (const card of cards) {
        const name = normalize(card.dataset.name);
        const tipoCard = card.dataset.tipo;
        const rarezaCard = card.dataset.rareza;
        const setCard = card.dataset.set;

        const show =
          (q === "" || name.includes(q)) &&
          (tipo === "all" || tipoCard === tipo) &&
          (selectedRareza === "all" || rarezaCard === selectedRareza) &&
          (selectedSet === "all" || setCard === selectedSet);

        card.style.display = show ? "" : "none";
        if (show) visible++;
      }

      if (resultsCount) resultsCount.textContent = `Mostrando: ${visible} carta(s)`;
    }

    searchInput.addEventListener("input", applyFilters, { passive: true });
    tipoSelect.addEventListener("change", applyFilters);

    rarezaWrap.addEventListener("click", (e) => {
      const btn = e.target.closest("button[data-rareza]");
      if (!btn) return;
      selectedRareza = btn.dataset.rareza;
      rarezaWrap.querySelectorAll(".filter-pill").forEach(b => b.classList.remove("is-active"));
      btn.classList.add("is-active");
      applyFilters();
    });

    setWrap.addEventListener("click", (e) => {
      const btn = e.target.closest("button[data-set]");
      if (!btn) return;
      selectedSet = btn.dataset.set;
      setWrap.querySelectorAll(".filter-pill").forEach(b => b.classList.remove("is-active"));
      btn.classList.add("is-active");
      applyFilters();
    });

    // Set desde URL (desde sets.html?set=...)
    const params = new URLSearchParams(window.location.search);
    const setFromUrl = params.get("set");
    if (setFromUrl) {
      const btn = setWrap.querySelector(`button[data-set="${setFromUrl}"]`);
      if (btn) {
        selectedSet = setFromUrl;
        setWrap.querySelectorAll(".filter-pill").forEach(b => b.classList.remove("is-active"));
        btn.classList.add("is-active");
      }
    }

    clearBtn?.addEventListener("click", () => {
      searchInput.value = "";
      tipoSelect.value = "all";
      selectedRareza = "all";
      selectedSet = "all";

      rarezaWrap.querySelectorAll(".filter-pill").forEach(b => b.classList.remove("is-active"));
      rarezaWrap.querySelector(`button[data-rareza="all"]`)?.classList.add("is-active");

      setWrap.querySelectorAll(".filter-pill").forEach(b => b.classList.remove("is-active"));
      setWrap.querySelector(`button[data-set="all"]`)?.classList.add("is-active");

      applyFilters();
    });

    applyFilters();
  });
</script>

<!-- PARALLAX (mobile + desktop) -->
<script>
  (function () {
    const prefersReduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduce) return;

    const SPEED = 0.18;
    let raf = null;

    function update(){
      raf = null;
      const y = window.scrollY || 0;
      document.documentElement.style.setProperty("--parallaxY", (-y * SPEED) + "px");
    }

    function onScroll(){
      if (raf) return;
      raf = requestAnimationFrame(update);
    }

    window.addEventListener("scroll", onScroll, { passive: true });
    update();
  })();
</script>

</body>
</html>
